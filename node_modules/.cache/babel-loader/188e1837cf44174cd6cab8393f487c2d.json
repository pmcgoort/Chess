{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/paulm/OneDrive/Documents/GitHub/Chess/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/paulm/OneDrive/Documents/GitHub/Chess/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/paulm/OneDrive/Documents/GitHub/Chess/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/paulm/OneDrive/Documents/GitHub/Chess/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/paulm/OneDrive/Documents/GitHub/Chess/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{canMove}from'./canMove';import{check}from'./check';import{checkmate}from'./checkmate';import{stalemate}from'./stalemate';var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.clicked=function(i,j){return function(){var correctTurn=false;if(_this.state.board[i][j][0]===_this.state.turn[0]){correctTurn=true;}if(_this.state.board[i][j]!==' '&&!_this.state.clicked[0]&&correctTurn){_this.setState(function(state){return{clicked:[true,i,j,8,8]};});}else if(_this.state.clicked[0]){var clicked=_this.state.clicked;clicked[3]=i;clicked[4]=j;_this.setState({clicked:clicked});_this.move();}};};_this.changePawn=function(e){return function(){var board=_this.state.board;for(var i=0;i<=7;i+=7){for(var j=0;j<=7;j++){if(board[i][j][1]==='P'){board[i][j]=board[i][j][0]+e;}}}_this.setState({board:board});var turn='White';if(_this.state.turn==='White'){turn='Black';}var message='';if(check(board,turn)){if(checkmate(board,turn)){message='Checkmate';}else{message='Check';}}else if(stalemate(board,turn)){message='Stalemate';}_this.setState({message:message});};};_this.state={board:[['WR','WN','WB','WQ','WK','WB','WN','WR'],['WP','WP','WP','WP','WP','WP','WP','WP'],[' ',' ',' ',' ',' ',' ',' ',' '],[' ',' ',' ',' ',' ',' ',' ',' '],[' ',' ',' ',' ',' ',' ',' ',' '],[' ',' ',' ',' ',' ',' ',' ',' '],['BP','BP','BP','BP','BP','BP','BP','BP'],['BR','BN','BB','BQ','BK','BB','BN','BR']],clicked:[false,8,8,8,8],turn:'White',message:'',canCastle:[[true,[true,true]],[true,[true,true]]],changePawn:false};_this.move=_this.move.bind(_assertThisInitialized(_this));_this.clicked=_this.clicked.bind(_assertThisInitialized(_this));_this.reset=_this.reset.bind(_assertThisInitialized(_this));_this.changePawn=_this.changePawn.bind(_assertThisInitialized(_this));return _this;}_createClass(Main,[{key:\"move\",value:function move(){var board=this.state.board;/*i=final row, j=final col, k=initial row, m=initial col*/var k=this.state.clicked[1];var m=this.state.clicked[2];var i=this.state.clicked[3];var j=this.state.clicked[4];/*determines based on piece if that piece can perfom move*/if(canMove(board,k,m,i,j,this.state.turn,false,this.state.canCastle)){board[i][j]=board[k][m];board[k][m]=' ';var turn='White';if(this.state.turn==='White'){turn='Black';}/*changes if castle or king moves to not allow castling in the future*/var canCastle=this.state.canCastle;if(k===0){if(m===0){canCastle[0][1][0]=false;}else if(m===7){canCastle[0][1][1]=false;}else if(m===4){canCastle[0][0]=false;}}else if(k===7){if(m===0){canCastle[1][1][0]=false;}else if(m===7){canCastle[1][1][1]=false;}else if(m===4){canCastle[1][0]=false;}}/*moving the rook when castling*/if(board[i][j][1]==='K'&&Math.abs(j-m)===2){if(j===2){board[i][3]=board[i][0];board[i][0]=' ';}else{board[i][5]=board[i][7];board[i][7]=' ';}}this.setState({board:board,clicked:[false,8,8,8,8],turn:turn,canCastle:canCastle});}else{this.setState({clicked:[false,8,8,8,8]});return;}var message='';if(check(board,this.state.turn)){if(checkmate(board,this.state.turn)){message='Checkmate';}else{message='Check';}}else if(stalemate(board,this.state.turn)){message='Stalemate';}this.setState({message:message});}},{key:\"reset\",value:function reset(){this.setState({board:[['WR','WN','WB','WQ','WK','WB','WN','WR'],['WP','WP','WP','WP','WP','WP','WP','WP'],[' ',' ',' ',' ',' ',' ',' ',' '],[' ',' ',' ',' ',' ',' ',' ',' '],[' ',' ',' ',' ',' ',' ',' ',' '],[' ',' ',' ',' ',' ',' ',' ',' '],['BP','BP','BP','BP','BP','BP','BP','BP'],['BR','BN','BB','BQ','BK','BB','BN','BR']],clicked:[false,8,8,8,8],turn:'White',message:'',canCastle:[[true,[true,true]],[true,[true,true]]],changePawn:false});}},{key:\"render\",value:function render(){var _this2=this;var board=this.state.board;var pawnChange='hide';for(var i=0;i<=7;i+=7){for(var j=0;j<=7;j++){if(board[i][j][1]==='P'){pawnChange='show';}}}var turn=\"\\u2659\";if(this.state.turn==='Black'){turn=\"\\u265F\";}return/*#__PURE__*/_jsxs(\"div\",{id:\"main\",children:[board.map(function(i,index){return/*#__PURE__*/_jsx(\"div\",{class:\"newRow\",children:i.map(function(j,jndex){var squareColor='blackSquare square';if((index+jndex)%2===1){squareColor='whiteSquare square';}if(index===_this2.state.clicked[1]&&jndex===_this2.state.clicked[2]){squareColor='clickedSquare square';}/*assigns the piece icon to each square*/var piece;switch(board[index][jndex]){case'WK':piece=\"\\u2654\";break;case'WQ':piece=\"\\u2655\";break;case'WR':piece=\"\\u2656\";break;case'WB':piece=\"\\u2657\";break;case'WN':piece=\"\\u2658\";break;case'WP':piece=\"\\u2659\";break;case'BK':piece=\"\\u265A\";break;case'BQ':piece=\"\\u265B\";break;case'BR':piece=\"\\u265C\";break;case'BB':piece=\"\\u265D\";break;case'BN':piece=\"\\u265E\";break;case'BP':piece=\"\\u265F\";break;default:break;}if(_this2.state.message!=='Checkmate'&&_this2.state.message!=='Stalemate'){return/*#__PURE__*/_jsx(\"div\",{class:squareColor,onClick:_this2.clicked(index,jndex),children:/*#__PURE__*/_jsx(\"div\",{class:\"piece\",children:piece})});}else{return/*#__PURE__*/_jsx(\"div\",{class:squareColor,children:/*#__PURE__*/_jsx(\"div\",{class:\"piece\",children:piece})});}})});}),/*#__PURE__*/_jsx(\"button\",{id:\"reset\",onClick:this.reset,children:\"Reset\"}),/*#__PURE__*/_jsx(\"p\",{id:\"turn\",children:turn}),/*#__PURE__*/_jsx(\"p\",{id:\"message\",children:this.state.message}),/*#__PURE__*/_jsxs(\"div\",{id:\"pawnChange\",class:pawnChange,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Change Pawn to:\"}),/*#__PURE__*/_jsx(\"button\",{id:\"queen\",class:\"pawnChangeButton\",onClick:this.changePawn('Q'),children:\"Queen\"}),/*#__PURE__*/_jsx(\"button\",{id:\"bishop\",class:\"pawnChangeButton\",onClick:this.changePawn('B'),children:\"Bishop\"}),/*#__PURE__*/_jsx(\"button\",{id:\"knight\",class:\"pawnChangeButton\",onClick:this.changePawn('N'),children:\"Knight\"}),/*#__PURE__*/_jsx(\"button\",{id:\"rook\",class:\"pawnChangeButton\",onClick:this.changePawn('R'),children:\"Rook\"})]})]});}}]);return Main;}(Component);export default Main;","map":{"version":3,"sources":["C:/Users/paulm/OneDrive/Documents/GitHub/Chess/src/Main.js"],"names":["React","Component","canMove","check","checkmate","stalemate","Main","props","clicked","i","j","correctTurn","state","board","turn","setState","move","changePawn","e","message","canCastle","bind","reset","k","m","Math","abs","pawnChange","map","index","jndex","squareColor","piece"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {canMove} from './canMove';\r\nimport {check} from './check';\r\nimport {checkmate} from './checkmate';\r\nimport {stalemate} from './stalemate';\r\n\r\nclass Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      board: [['WR','WN','WB','WQ','WK','WB','WN','WR'],\r\n              ['WP','WP','WP','WP','WP','WP','WP','WP'],\r\n              [' ',' ',' ',' ',' ',' ',' ',' '],\r\n              [' ',' ',' ',' ',' ',' ',' ',' '],\r\n              [' ',' ',' ',' ',' ',' ',' ',' '],\r\n              [' ',' ',' ',' ',' ',' ',' ',' '],\r\n              ['BP','BP','BP','BP','BP','BP','BP','BP'],\r\n              ['BR','BN','BB','BQ','BK','BB','BN','BR']],\r\n      clicked: [false, 8, 8, 8, 8],\r\n      turn: 'White',\r\n      message: '',\r\n      canCastle: [[true, [true, true]], [true, [true, true]]],\r\n      changePawn: false\r\n    }\r\n    this.move = this.move.bind(this)\r\n    this.clicked = this.clicked.bind(this)\r\n    this.reset = this.reset.bind(this)\r\n    this.changePawn = this.changePawn.bind(this)\r\n  }\r\n\r\n  move(){\r\n\r\n    var board = this.state.board\r\n  /*i=final row, j=final col, k=initial row, m=initial col*/\r\n    var k = this.state.clicked[1]\r\n    var m = this.state.clicked[2]\r\n    var i = this.state.clicked[3]\r\n    var j = this.state.clicked[4]\r\n\r\n    /*determines based on piece if that piece can perfom move*/\r\n    if(canMove(board, k, m, i, j, this.state.turn, false, this.state.canCastle)){\r\n      board[i][j] = board[k][m]\r\n      board[k][m] = ' '\r\n      var turn = 'White'\r\n      if(this.state.turn === 'White'){\r\n        turn = 'Black'\r\n      }\r\n      /*changes if castle or king moves to not allow castling in the future*/\r\n      var canCastle = this.state.canCastle\r\n      if(k === 0){\r\n        if(m === 0){\r\n          canCastle[0][1][0] = false\r\n        } else if(m === 7){\r\n          canCastle[0][1][1] = false\r\n        } else if(m === 4){\r\n          canCastle[0][0] = false\r\n        }\r\n      } else if(k === 7){\r\n          if(m === 0){\r\n            canCastle[1][1][0] = false\r\n          } else if(m === 7){\r\n            canCastle[1][1][1] = false\r\n          } else if(m === 4){\r\n            canCastle[1][0] = false\r\n          }\r\n        }\r\n        /*moving the rook when castling*/\r\n        if(board[i][j][1] === 'K' && Math.abs(j - m) === 2){\r\n          if(j === 2){\r\n            board[i][3] = board[i][0]\r\n            board[i][0] = ' '\r\n          } else {\r\n            board[i][5] = board[i][7]\r\n            board[i][7] = ' '\r\n          }\r\n        }\r\n\r\n      this.setState({\r\n        board: board,\r\n        clicked: [false, 8, 8, 8, 8],\r\n        turn: turn,\r\n        canCastle: canCastle\r\n      })\r\n    } else {\r\n      this.setState({\r\n        clicked: [false, 8, 8, 8, 8]\r\n      })\r\n      return\r\n    }\r\n    var message = ''\r\n    if(check(board, this.state.turn)){\r\n      if(checkmate(board, this.state.turn)){\r\n        message = 'Checkmate'\r\n      } else {\r\n        message = 'Check'\r\n      }\r\n    } else if(stalemate(board, this.state.turn)){\r\n      message = 'Stalemate'\r\n    }\r\n    this.setState({\r\n      message: message\r\n    })\r\n  }\r\n\r\n  clicked = (i, j) => () => {\r\n    var correctTurn = false\r\n    if(this.state.board[i][j][0] === this.state.turn[0]){\r\n        correctTurn = true\r\n    }\r\n\r\n    if(this.state.board[i][j] !== ' ' && !this.state.clicked[0] && correctTurn){\r\n      this.setState((state) => ({\r\n        clicked: [true, i, j, 8, 8]\r\n      }))\r\n    } else if(this.state.clicked[0]){\r\n        var clicked = this.state.clicked\r\n        clicked[3] = i\r\n        clicked[4] = j\r\n        this.setState({\r\n          clicked: clicked\r\n        })\r\n        this.move()\r\n      }\r\n  }\r\n\r\n  reset(){\r\n    this.setState({\r\n      board: [['WR','WN','WB','WQ','WK','WB','WN','WR'],\r\n              ['WP','WP','WP','WP','WP','WP','WP','WP'],\r\n              [' ',' ',' ',' ',' ',' ',' ',' '],\r\n              [' ',' ',' ',' ',' ',' ',' ',' '],\r\n              [' ',' ',' ',' ',' ',' ',' ',' '],\r\n              [' ',' ',' ',' ',' ',' ',' ',' '],\r\n              ['BP','BP','BP','BP','BP','BP','BP','BP'],\r\n              ['BR','BN','BB','BQ','BK','BB','BN','BR']],\r\n      clicked: [false, 8, 8, 8, 8],\r\n      turn: 'White',\r\n      message: '',\r\n      canCastle: [[true, [true, true]], [true, [true, true]]],\r\n      changePawn: false\r\n    })\r\n  }\r\n\r\n  changePawn = (e) => () => {\r\n    var board = this.state.board\r\n    for(let i = 0; i <= 7; i += 7){\r\n      for(let j = 0; j <= 7; j++){\r\n        if(board[i][j][1] === 'P'){\r\n          board[i][j] = board[i][j][0] + e\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      board: board\r\n    })\r\n\r\n    var turn = 'White'\r\n    if(this.state.turn === 'White'){\r\n      turn = 'Black'\r\n    }\r\n\r\n    var message = ''\r\n    if(check(board, turn)){\r\n      if(checkmate(board, turn)){\r\n        message = 'Checkmate'\r\n      } else {\r\n        message = 'Check'\r\n      }\r\n    } else if(stalemate(board, turn)){\r\n      message = 'Stalemate'\r\n    }\r\n    this.setState({\r\n      message: message\r\n    })\r\n  }\r\n\r\n  render(){\r\n    const board = this.state.board\r\n    var pawnChange = 'hide'\r\n\r\n    for(let i = 0; i <= 7; i += 7){\r\n      for(let j = 0; j <= 7; j++){\r\n        if(board[i][j][1] === 'P'){\r\n          pawnChange = 'show'\r\n        }\r\n      }\r\n    }\r\n\r\n    var turn = '\\u2659'\r\n    if(this.state.turn === 'Black'){\r\n      turn = '\\u265F'\r\n    }\r\n\r\n    return(\r\n      <div id=\"main\">\r\n        {\r\n          board.map((i, index) => {\r\n            return(\r\n            <div class='newRow'>\r\n            {\r\n              i.map((j, jndex) => {\r\n                var squareColor = 'blackSquare square'\r\n                if((index + jndex) % 2 === 1){\r\n                  squareColor = 'whiteSquare square'\r\n                }\r\n                if((index === this.state.clicked[1] && jndex === this.state.clicked[2])){\r\n                  squareColor = 'clickedSquare square'\r\n                }\r\n\r\n                /*assigns the piece icon to each square*/\r\n                var piece\r\n\r\n                switch (board[index][jndex]){\r\n                  case 'WK':\r\n                    piece = '\\u2654'\r\n                  break;\r\n\r\n                  case 'WQ':\r\n                    piece = '\\u2655'\r\n                  break\r\n\r\n                  case 'WR':\r\n                    piece = '\\u2656'\r\n                  break\r\n\r\n                  case 'WB':\r\n                    piece = '\\u2657'\r\n                  break\r\n\r\n                  case 'WN':\r\n                    piece = '\\u2658'\r\n                  break\r\n\r\n                  case 'WP':\r\n                    piece = '\\u2659'\r\n                  break\r\n\r\n\r\n                  case 'BK':\r\n                    piece = '\\u265A'\r\n                  break;\r\n\r\n                  case 'BQ':\r\n                    piece = '\\u265B'\r\n                  break\r\n\r\n                  case 'BR':\r\n                    piece = '\\u265C'\r\n                  break\r\n\r\n                  case 'BB':\r\n                    piece = '\\u265D'\r\n                  break\r\n\r\n                  case 'BN':\r\n                    piece = '\\u265E'\r\n                  break\r\n\r\n                  case 'BP':\r\n                    piece = '\\u265F'\r\n                  break\r\n\r\n                  default:\r\n                  break;\r\n                }\r\n                if(this.state.message !== 'Checkmate' && this.state.message !== 'Stalemate'){\r\n                  return(\r\n                    <div class={squareColor} onClick={this.clicked(index, jndex)}>\r\n                      <div class='piece'>{piece}</div>\r\n                    </div>\r\n                  )\r\n                } else {\r\n                  return(\r\n                    <div class={squareColor}>\r\n                      <div class='piece'>{piece}</div>\r\n                    </div>\r\n                  )\r\n                }\r\n              })\r\n            }\r\n            </div>\r\n          )\r\n          })\r\n        }\r\n        <button id='reset' onClick={this.reset}>Reset</button>\r\n        <p id='turn'>{turn}</p>\r\n        <p id='message'>{this.state.message}</p>\r\n        <div id='pawnChange' class={pawnChange}>\r\n          <p>Change Pawn to:</p>\r\n          <button id='queen' class='pawnChangeButton' onClick={this.changePawn('Q')}>Queen</button>\r\n          <button id='bishop' class='pawnChangeButton' onClick={this.changePawn('B')}>Bishop</button>\r\n          <button id='knight' class='pawnChangeButton' onClick={this.changePawn('N')}>Knight</button>\r\n          <button id='rook' class='pawnChangeButton' onClick={this.changePawn('R')}>Rook</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}